<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no" name="viewport">
  <title>Alstom T&C Dashboard &mdash;</title>
<link rel="stylesheet" href="../static/css/new-gcard.css">

  <link rel="stylesheet" href="../static/modules/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="../static/modules/ionicons/css/ionicons.min.css">
  <link rel="stylesheet" href="../static/modules/fontawesome/web-fonts-with-css/css/fontawesome-all.min.css">


<!--  <link rel="stylesheet" href="../static/modules/summernote/summernote-lite.css">-->
<!--  <link rel="stylesheet" href="../static/modules/flag-icon-css/css/flag-icon.min.css">-->
  <link rel="stylesheet" href="../static/css/demo.css">
  <link rel="stylesheet" href="../static/css/style.css">
  <link rel="stylesheet" href="../static/css/atlantis.min.css">


<script src="../static/js/webfont.min.js"></script>
	<script>
		WebFont.load({
			google: {"families":["Lato:300,400,700,900"]},
			custom: {"families":["Flaticon", "Font Awesome 5 Solid", "Font Awesome 5 Regular", "Font Awesome 5 Brands", "simple-line-icons"], urls: ['../assets/css/fonts.min.css']},
			active: function() {
				sessionStorage.fonts = true;
			}
		});
	</script>

    <style>
  .card-custom {
  overflow: hidden;
  min-height: 450px;
  box-shadow: 0 0 15px rgba(10, 10, 10, 0.3);
}

.card-custom-img {
  height: 200px;
  min-height: 200px;
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  border-color: inherit;
}

/* First border-left-width setting is a fallback */
.card-custom-img::after {
  position: absolute;
  content: '';
  top: 161px;
  left: 0;
  width: 0;
  height: 0;
  border-style: solid;
  border-top-width: 40px;
  border-right-width: 0;
  border-bottom-width: 0;
  border-left-width: 545px;
  border-left-width: calc(575px - 5vw);
  border-top-color: transparent;
  border-right-color: transparent;
  border-bottom-color: transparent;
  border-left-color: inherit;
}

.card-custom-avatar img {
  border-radius: 50%;
  box-shadow: 0 0 15px rgba(10, 10, 10, 0.3);
  position: absolute;
  top: 100px;
  left: 1.25rem;
  width: 100px;
  height: 100px;
}

</style>



</head>

<body>

<div id="app">
    <div class="main-wrapper">

        <div class="navbar-bg"></div>

        <nav class="navbar navbar-expand-lg main-navbar">

                <ul class="navbar-nav mr-3">
                    <li><a href="#" data-toggle="sidebar" class="nav-link nav-link-lg"><i class="ion ion-navicon-round"></i><h3 class="m-b-20">TSY SYS T&C Activity Status </h3></a></li>

                </ul>

        </nav>


        <div class="main-sidebar">
            <aside id="sidebar-wrapper">
                <div class="sidebar-brand">
                    <a href="#"><img src="../static/img/alstom.jpg" width="134" height="27" alt=""/></a>
                </div>
                <div class="sidebar-user">
                    <div class="sidebar-user-picture">
                        <img alt="image" src="../static/img/avatar/avatar-1.jpg">
                    </div>
                    <div class="sidebar-user-details">
                        <div class="user-name">{{name}}</div>
                        <div class="user-role">{{email}}</div>
                    </div>
                </div>
                <ul class="sidebar-menu">
                    <li class="menu-header">Dashboards</li>
                    <li><a href="/dashboard01"><i class="ion ion-stats-bars"></i><span>System TR & TP</span></a></li>
                    <li><a href="/dashboard02"><i class="ion ion-speedometer"></i><span>TSY Anomaly Status</span></a>
                    <li class="active"><a href="#" class="has-dropdown"><i class="fas fa-chart-line"></i></i><span>T&C Activity Progress</span></a>
                        <ul class="menu-dropdown">
                            <li class="active" style="margin=30px;"><a href="/dashboardLine4"><i class="fas fa-subway"></i>Line 4</a></li>
                            <li><a href="/dashboardLine5"><i class="fas fa-subway"></i></i>Line 5</a></li>
                            <li><a href="/dashboardLine6"><i class="fas fa-subway"></i></i>Line 6</a></li>
                        </ul>

                    <li class="menu-header">Data</li>
                    <li>
                        <a href="/reports"><i class="ion ion-ios-copy-outline"></i><span>T&C Reports</span></a>
                    </li>
                    <li>
                        <a href="#"><i class="ion ion-ios-information-outline"></i><span>Notification</span></a>
                    </li>
                    <li class="text-danger">
                        <a href="/logout"><i class="ion ion-log-out"></i><span>Logout</span></a>
                    </li>
                </ul>

            </aside>
        </div>

        <div class="main-content">
            <section class="section">

                <div class="card bg-g-black order-card">
                      <div class="panel-header panel-header-lg">
                         <canvas id="bigDashboardChart" height="300"></canvas>
                     </div>
                 </div>


                <!-- Start of Content-->

    <div class="row mt--1">

        <!-- Start Yellow Train Card -->
                       <div class="col-md-6 col-lg-4 pb-3">

        <!-- Copy the content below until next comment -->
        <div class="card card-custom bg-white border-white border-0">
          <div class="card-custom-img" style="background-image: url(../static/img/train-yellow2.jpg);"></div>
          <div class="card-custom-avatar">
            <img class="img-fluid" src="../static/img/number-4.png" alt="Avatar" />
          </div>
          <div class="card-body" style="overflow-y: auto">
               <div class="d-flex flex-wrap justify-content-around pb-2 pt-1 py-1">
                    <div class="px-0 pb-1 pb-sm text-center">

                      <div id="cir_Line4" style="margin:1px; height:100px; width:140px; position:relative; top: 16px; left: 8px;"></div>

                    </div>
               </div>
          </div>

        </div>
        <!-- Copy until here -->

      </div>

        <!-- Start Green Train Card-->
                        <div class="col-md-6 col-lg-4 pb-3">

        <!-- Copy the content below until next comment -->
        <div class="card card-custom bg-white border-white border-0">
          <div class="card-custom-img" style="background-image: url(../static/img/train-green2.jpg);"></div>
          <div class="card-custom-avatar">
            <img class="img-fluid" src="../static/img/number-5.png" alt="Avatar" />
          </div>
          <div class="card-body" style="overflow-y: auto">
               <div class="d-flex flex-wrap justify-content-around pb-2 pt-1 py-1">
                    <div class="px-0 pb-1 pb-sm text-center">

                      <div id="cir_Line5" style="margin:1px; height:100px; width:140px; position:relative; top: 16px; left: 8px;"></div>

                    </div>
               </div>
          </div>

        </div>
        <!-- Copy until here -->

      </div>

        <!-- Start Purple Train Card-->

                        <div class="col-md-6 col-lg-4 pb-3">

        <!-- Copy the content below until next comment -->
        <div class="card card-custom bg-white border-white border-0">
          <div class="card-custom-img" style="background-image: url(../static/img/train-purple2.jpg);"></div>
          <div class="card-custom-avatar">
            <img class="img-fluid" src="../static/img/number-6.png" alt="Avatar" />
          </div>
          <div class="card-body" style="overflow-y: auto">
               <div class="d-flex flex-wrap justify-content-around pb-2 pt-1 py-1">
                    <div class="px-0 pb-1 pb-sm text-center">

                      <div id="cir_Line6" style="margin:1px; height:100px; width:140px; position:relative; top: 16px; left: 8px;"></div>

                    </div>
               </div>
          </div>

        </div>
        <!-- Copy until here -->

      </div>


                    </div>



            </section>
        </div>

        <footer class="main-footer">
            <div class="footer-left">
                <div class="bullet"></div>Developed By RAO Kamran (Riyadh Metro System T&amp;C)</a>
            </div>
            <div class="footer-right"></div>
        </footer>

    </div>
</div>

<script src="../static/modules/jquery.min.js"></script>
<script src="../static/modules/popper.js"></script>
<script src="../static/modules/bootstrap/js/bootstrap.min.js"></script>
<script src="../static/modules/chart.min.js"></script>


<script src="../static/modules/tooltip.js"></script>

<script src="../static/modules/nicescroll/jquery.nicescroll.min.js"></script>
<script src="../static/modules/scroll-up-bar/dist/scroll-up-bar.min.js"></script>

<script src="../static/modules/chartjs-plugin-datalabels.min.js"></script>

<script src="../static/modules/summernote/summernote-lite.js"></script>

<!--  <script src="../static/js/circles.min.js"></script>-->
<script src="../static/js/progressbar.js"></script>
<script src="../static/js/scripts.js"></script>
<script src="../static/js/custom.js"></script>
<script src="../static/js/demo.js"></script>
<!--<script src="../static/js/chartjs-plugin-deferred.min.js"></script>-->


<script>
    var bar = new ProgressBar.Circle(cir_Line4, {
  strokeWidth: 6,
  color: '#FFEA82',
  trailColor: '#F6F6F6',
  trailWidth: 6,
  easing: 'bounce',
  duration: 2400,
  svgStyle: null,
  text: {
    //value: '',
    //alignToBottom: true
     autoStyleContainer: false
  },
  from: {color: '#000099'},
  to: {color: '##008000'},
  // Set default step function for all animate calls
  step: (state, bar) => {
    bar.path.setAttribute('stroke', state.color);
    var value = Math.round(bar.value() * 100) + '%';
    if (value === 0) {
      bar.setText('');
    } else {
      bar.setText(value);
    }

    bar.text.style.color = state.color;
  }
});
bar.text.style.fontFamily = '"Raleway", Helvetica, sans-serif';
bar.text.style.fontSize = '1.8rem';
a= {{l4Month_data|last}}/100
bar.animate(a);  // Number from 0.0 to 1.0

</script>
<script>
    var bar = new ProgressBar.Circle(cir_Line5, {
  strokeWidth: 6,
  color: '#FFEA82',
  trailColor: '#F6F6F6',
  trailWidth: 6,
  easing: 'bounce',
  duration: 2400,
  svgStyle: null,
  text: {
    //value: '',
    //alignToBottom: true
     autoStyleContainer: false
  },
  from: {color: '#000099'},
  to: {color: '##008000'},
  // Set default step function for all animate calls
  step: (state, bar) => {
    bar.path.setAttribute('stroke', state.color);
    var value = Math.round(bar.value() * 100) + '%';
    if (value === 0) {
      bar.setText('');
    } else {
      bar.setText(value);
    }

    bar.text.style.color = state.color;
  }
});
bar.text.style.fontFamily = '"Raleway", Helvetica, sans-serif';
bar.text.style.fontSize = '1.8rem';
a= {{l5Month_data|last}}/100
bar.animate(a);  // Number from 0.0 to 1.0

</script>
<script>
    var bar = new ProgressBar.Circle(cir_Line6, {
  strokeWidth: 6,
  color: '#FFEA82',
  trailColor: '#F6F6F6',
  trailWidth: 6,
  easing: 'bounce',
  duration: 2400,
  svgStyle: null,
  text: {
    //value: '',
    //alignToBottom: true
     autoStyleContainer: false
  },
  from: {color: '#000099'},
  to: {color: '##008000'},
  // Set default step function for all animate calls
  step: (state, bar) => {
    bar.path.setAttribute('stroke', state.color);
    var value = Math.round(bar.value() * 100) + '%';
    if (value === 0) {
      bar.setText('');
    } else {
      bar.setText(value);
    }

    bar.text.style.color = state.color;
  }
});
bar.text.style.fontFamily = '"Raleway", Helvetica, sans-serif';
bar.text.style.fontSize = '1.8rem';
a= {{l6Month_data|last}}/100
bar.animate(a);  // Number from 0.0 to 1.0

</script>

<script>
    $(document).ready(function() {
      // Javascript method's body can be found in assets/js/demos.js
      demo.initDashboardPageCharts();

    });
  </script>

<script>

  demo = {

  initDashboardPageCharts: function() {

    chartColor = "#FFFF00";
    chartColorL6 = "#9900CC";
    chartColorL5 = "#32cd32";


    var ctx = document.getElementById('bigDashboardChart').getContext("2d");

    var gradientStroke = ctx.createLinearGradient(0, 230, 0, 50);

    gradientStroke.addColorStop(1, 'rgba(255,255,0,0.2)');
    gradientStroke.addColorStop(0.1, 'rgba(255,255,0,0.0)'); //yellow colors
    gradientStroke.addColorStop(0, 'rgba(255,255,0,0.2)');

    var months = {{l4Month|safe}};
    var l4Month_data = {{l4Month_data|safe}};
    var l6Month_data = {{l6Month_data|safe}};
    var l5Month_data = {{l5Month_data|safe}};

    var myChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: months,
        //labels: ["FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG"],
        datasets: [{
          label: "Data",
          borderColor: chartColor,
          pointBorderColor: chartColor,
          pointBackgroundColor: "#1e3d60",
          pointHoverBackgroundColor: "#1e3d60",
          pointHoverBorderColor: chartColor,
          pointBorderWidth: 1,
          //pointHoverRadius: 7,
          pointHoverBorderWidth: 2,
          pointRadius: 4,
          fill: true,
          //backgroundColor: gradientStroke,
          borderWidth: 3,
          //data: [0, 31.3, 32.6, 37.3, 38.6, 29.0]
          data: l4Month_data
        },{
          label: "Data",
          borderColor: chartColorL6,
          pointBorderColor: chartColorL6,
          pointBackgroundColor: "#1e3d60",
          pointHoverBackgroundColor: "#1e3d60",
          pointHoverBorderColor: chartColorL6,
          pointBorderWidth: 1,
          //pointHoverRadius: 7,
          pointHoverBorderWidth: 2,
          pointRadius: 4,
          fill: true,
          //backgroundColor: gradientStroke,
          borderWidth: 3,
          //data: [0, 31.3, 42.6, 57.3, 48.6, 60.0]
          data: l6Month_data
        },{
          label: "Data",
          borderColor: chartColorL5,
          pointBorderColor: chartColorL5,
          pointBackgroundColor: "#1e3d60",
          pointHoverBackgroundColor: "#1e3d60",
          pointHoverBorderColor: chartColorL5,
          pointBorderWidth: 1,
          //pointHoverRadius: 7,
          pointHoverBorderWidth: 2,
          pointRadius: 4,
          fill: true,
          //backgroundColor: gradientStroke,
          borderWidth: 3,
          //data: [0, 31.3, 42.6, 57.3, 48.6, 60.0]
          data: l5Month_data
          }
        ]
      },
      options: {
        layout: {
          padding: {
            left: 20,
            right: 20,
            top: 20,
            bottom: 0
          }
        },
        maintainAspectRatio: false,
        tooltips: {
            backgroundColor: '#f5f5f5',
            titleFontColor: '#333',
             bodyFontColor: '#666',
          bodySpacing: 4,
          xPadding: 12,
          mode: "nearest",
          intersect: 0,
          position: "nearest"

        },
        legend: {
          position: "bottom",
          fillStyle: "#FFF",
          display: false
        },

         plugins: {
         datalabels: {
            align: 'end',
            display: 'auto',
            anchor: 'start',

             formatter: function (value, ctx) {
                 let percentage = value + "%";
                 return percentage;
             },
             font: {
                 size: 10,
                 weight: "normal"
             },
             color: "#FFFFFF"

         }
     },


        scales: {
          yAxes: [{
            ticks: {
              suggestedMin: 0,
              suggestedMax: 100,
              fontColor: "rgba(255,255,255,0.7)",
              fontStyle: "normal",
              beginAtZero: true,
              maxTicksLimit: 5,
              padding: 20
            },
            gridLines: {
            drawBorder: false,
            color: 'rgba(29,140,248,0.0)',
            zeroLineColor: "transparent",
            }

          }],
          xAxes: [{
            barPercentage: 1.6,
          gridLines: {
            drawBorder: false,
            color: 'rgba(225,78,202,0.1)',
            zeroLineColor: "transparent",
          },
            ticks: {
              padding: 10,
              fontColor: "rgba(255,255,255,0.8)",
              fontStyle: "normal"
            }
          }]
        }
      }
    });
  },


};

</script>


</body>



</html>